function StringBuffer(){this.buffer=[]}StringBuffer.prototype.append=function(t){return this.buffer.push(t),this},StringBuffer.prototype.toString=function(){return this.buffer.join("")};var Base64={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){for(var e=new StringBuffer,r=new Utf8EncodeEnumerator(t);r.moveNext();){var n=r.current;r.moveNext();var i=r.current;r.moveNext();var u=r.current,h=n>>2,s=(3&n)<<4|i>>4,f=(15&i)<<2|u>>6,o=63&u;isNaN(i)?f=o=64:isNaN(u)&&(o=64),e.append(this.codex.charAt(h)+this.codex.charAt(s)+this.codex.charAt(f)+this.codex.charAt(o))}return e.toString()},decode:function(t){for(var e=new StringBuffer,r=new Base64DecodeEnumerator(t);r.moveNext();){var n=r.current;if(n<128)e.append(String.fromCharCode(n));else if(191<n&&n<224){r.moveNext();var i=r.current;e.append(String.fromCharCode((31&n)<<6|63&i))}else{r.moveNext();i=r.current;r.moveNext();var u=r.current;e.append(String.fromCharCode((15&n)<<12|(63&i)<<6|63&u))}}return e.toString()}};function Utf8EncodeEnumerator(t){this._input=t,this._index=-1,this._buffer=[]}function Base64DecodeEnumerator(t){this._input=t,this._index=-1,this._buffer=[]}Utf8EncodeEnumerator.prototype={current:Number.NaN,moveNext:function(){if(0<this._buffer.length)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var t=this._input.charCodeAt(++this._index);return 13==t&&10==this._input.charCodeAt(this._index+1)&&(t=10,this._index+=2),t<128?this.current=t:(127<t&&t<2048?this.current=t>>6|192:(this.current=t>>12|224,this._buffer.push(t>>6&63|128)),this._buffer.push(63&t|128)),!0}},Base64DecodeEnumerator.prototype={current:64,moveNext:function(){if(0<this._buffer.length)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return!(this.current=64);var t=Base64.codex.indexOf(this._input.charAt(++this._index)),e=Base64.codex.indexOf(this._input.charAt(++this._index)),r=Base64.codex.indexOf(this._input.charAt(++this._index)),n=Base64.codex.indexOf(this._input.charAt(++this._index)),i=t<<2|e>>4,u=(15&e)<<4|r>>2,h=(3&r)<<6|n;return this.current=i,64!=r&&this._buffer.push(u),64!=n&&this._buffer.push(h),!0}};