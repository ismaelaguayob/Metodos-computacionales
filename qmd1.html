<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tarea 1: scrapping</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="qmd1_files/libs/clipboard/clipboard.min.js"></script>
<script src="qmd1_files/libs/quarto-html/quarto.js"></script>
<script src="qmd1_files/libs/quarto-html/popper.min.js"></script>
<script src="qmd1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="qmd1_files/libs/quarto-html/anchor.min.js"></script>
<link href="qmd1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="qmd1_files/libs/quarto-html/quarto-syntax-highlighting-07ba0ad10f5680c660e360ac31d2f3b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="qmd1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="qmd1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="qmd1_files/libs/bootstrap/bootstrap-b8d30c7eeda119d43de224048e70de8f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="qmd1_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="qmd1_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="qmd1_files/libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet">

<script src="qmd1_files/libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>

<script src="qmd1_files/libs/wordcloud2-0.0.1/hover.js"></script>

<script src="qmd1_files/libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tarea 1: scrapping</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="por-hacer" class="level1">
<h1>Por Hacer:</h1>
<ul>
<li><p>Cambiar la iteración para que extraiga la cantidad de resultados en vez de uno que uno establezca de antes</p></li>
<li><p>Explorar los modelos de 1. pregunta y 2. análisis de texto, y probar los análisis de sentimiento con los párrafos generados</p></li>
<li><p>Arreglar la entrega de Opazo, unidad de análisis Technological Frame</p></li>
<li><p>Limpiar las listas de párrafos sobre Inteligencia Artificial</p></li>
</ul>
</section>
<section id="primer-trabajo-metodos-computacionales" class="level1">
<h1>Primer trabajo metodos computacionales</h1>
<section id="integrantes-ismael-aguayo-y-exequiel-trujillo" class="level4">
<h4 class="anchored" data-anchor-id="integrantes-ismael-aguayo-y-exequiel-trujillo"><em>Integrantes: Ismael Aguayo y Exequiel Trujillo</em></h4>
</section>
<section id="relevancia-de-los-datos" class="level2">
<h2 class="anchored" data-anchor-id="relevancia-de-los-datos">Relevancia de los datos</h2>
<p>El uso de técnicas de extracción de datos por medio de APIs permite obtener grandes volúmenes de información de fuentes digitales, lo cual es particularmente valioso para las ciencias sociales, que tradicionalmente se han basado en encuestas y censos que pueden ser más costosos y limitados en tiempo y alcance.</p>
<p>Las técnicas de web scraping permiten explorar temas actuales y en constante cambio (mientras se publican contenidos nuevos a diario). Quienes hacen investigación en ciencias sociales necesitan adaptarse a entornos digitales dinámicos. A través de este proyecto se espera aprender a integrar y desarrollar herramientas computacionales en la recolección y análisis de datos.</p>
<p>La relevancia sociológica de los datos que se utilizarán se sostiene, en principio, en el elemento revolucionario y transformador que presenta una tecnología como la IA. Segundo, la utilización de medios masivos de comunicación como BíoBíocl y Emol, ambos los medios online más visitados en el país. Esto vinculado con el gran volumen de datos que se está utilizando, otorga validez y significancia a los análisis sociales que se van a realizar. Como se demostró en la introducción, la IA ha permeado el trabajo académico en muchos ámbitos, siendo de los más visitados entre estos desde la sociología, la educación y el trabajo. Sin embargo, se percibe una vacío académico en análisis constructivistas que perciban la tecnología no solo como un objeto técnico, sino uno imbricado socialmente con significados, prácticas, y con un gran impacto en la cultura; uno construido en un proceso simultáneamente técnico como social. En los medios, esta construcción es evidente, y tiene un impacto mayor en los significados construidos por los individuos tanto por su masividad como por su posición privilegiada en la sociedad como emisor de información con validez.&nbsp;</p>
</section>
<section id="contexto-bíobío-y-emol" class="level2">
<h2 class="anchored" data-anchor-id="contexto-bíobío-y-emol">Contexto BíoBío y Emol</h2>
<p>Para este proyecto, decidimos trabajar con Emol y Bío Bío, dos de los medios de noticias más conocidos en Chile y que tienen un gran impacto en cómo la gente entiende lo que pasa en el país. Nos interesa especialmente porque ambos cubren temas de política, economía, sociedad, tecnología y cultura, en particular sobre Inteligencia Artificial, lo que nos ayuda a explorar cómo se presentan y enmarcan temas importantes o de impacto como este.</p>
<p>Emol es parte del grupo El Mercurio, uno de los conglomerados de medios más grandes de Chile. Este medio tiene una fuerte influencia en la opinión pública y su contenido se enfoca mucho en temas económicos, políticos y empresariales. Creemos que analizar artículos de Emol nos permite ver cómo se representan ciertos sectores de la sociedad y observar el tipo de lenguaje que usan en temas sensibles o de alto interés para la gente. El medio de comunicación El Mercurio On-Line (Emol) es parte de la empresa El Mercurio S.A.P., siendo su portal digital de noticias. Nació a mediados de los 90s con el objetivo de informar a las empresas en economía y actualidad, sin embargo, debido a la competencia de La Tercera online y Terra, se convirtió en lo que es hoy, publicando el contenido de El Mercurio, La segunda y Las Últimas Noticias (Wikipedia, 2024).</p>
<p>Por otro lado, Bío Bío tiene un enfoque más amplio y diverso, pero sigue siendo uno de los medios más consumidos en Chile. El medio BíoBío.cl, del que se extraerán los datos del presente estudio, data de 1959. En principio era una radio, siendo la única con sede fuera de la capital. Para el año 2009 se creó la página web que se utilizará, la cual en 2020 es la página web de noticias más visitada del país, con 122 millones de usuarios únicos y 595 millones de visitas (Quiénes somos | BioBiochile, s. f.).</p>
<p>Ambos medios son los más visitados digitalmente en el país, estando en las posiciones primera (Emol) y segunda (BioBiocl), según el sitio web de rankings SimilarWeb (Septiembre de 2024).&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cargamos libreria</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  tidyverse,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  httr,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  jsonlite,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  dplyr,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  tidytext,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  ggplot2,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  rvest,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  stringr,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  xml2,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  wordcloud2</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="obtenemos-el-texto-de-las-noticias-con-la-búsqueda-inteligencia-artificial-en-medio-bío-bío" class="level2">
<h2 class="anchored" data-anchor-id="obtenemos-el-texto-de-las-noticias-con-la-búsqueda-inteligencia-artificial-en-medio-bío-bío">Obtenemos el texto de las noticias con la búsqueda “Inteligencia Artificial” en medio Bío Bío</h2>
<p>Se utilizó la API de búsqueda que utiliza la web de BíoBío.cl. Esta no cuenta con documentación, por lo que a prueba y error se fueron descubriendo los parámetros necesarios para automatizar el scrappeo del contenido de la web. Los headers que se utilizaron son los mismos que arroja el get cuando uno realiza una busqueda desde el navegador.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Parámetros básicos</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>search_query <span class="ot">&lt;-</span> <span class="st">"Inteligencia Artificial"</span> <span class="co"># Frase a buscar</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>offset <span class="ot">&lt;-</span> <span class="dv">0</span>  <span class="co"># En 0 para que comience por el primer artículo, así funciona la API</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Numero de búsquedas total al ingresar la palabra clave en bíobío.cl (la API busca en múltiplos de a 20)</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>total_results <span class="ot">&lt;-</span> <span class="dv">2060</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>() <span class="co"># Creamos data.frame vacío para luego extraer los datos de la API</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Encabezados para la solicitud</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>headers <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">User-Agent</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:131.0) Gecko/20100101 Firefox/131.0"</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Accept</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"application/json, text/plain, */*"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Referer</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"https://www.biobiochile.cl/buscador.shtml?s=inteligencia+artificial"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Content-Type</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"application/json; charset=UTF-8"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Iteramos hasta que el offset sea menor al total de resultados</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (offset <span class="sc">&lt;</span> total_results) {</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Construimos el link para cada iteración</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://www.biobiochile.cl/lista/api/buscador?offset="</span>, offset,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&amp;search="</span>, <span class="fu">URLencode</span>(search_query),</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&amp;intervalo=&amp;orden=ultimas"</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Se aumenta el offset para cada iteración (después de construido el link)</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  offset <span class="ot">&lt;-</span> offset <span class="sc">+</span> <span class="dv">20</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Realizamos la solicitud y manejamos posibles errores</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  response <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>(</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    { <span class="fu">GET</span>(url) },</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> <span class="cf">function</span>(e) { </span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Error en la conexión: "</span>, e) </span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verificamos si `response` es nulo antes de continuar</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(response)) <span class="cf">next</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Procesamos el contenido si `response` no es nulo</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> <span class="fu">content</span>(response, <span class="st">"text"</span>, <span class="at">encoding =</span> <span class="st">"UTF-8"</span>)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>  json_data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(data, <span class="at">flatten =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verificamos que el elemento `notas` existe antes de unir datos</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(json_data<span class="sc">$</span>notas)) {</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    json_notas <span class="ot">&lt;-</span> json_data<span class="sc">$</span>notas <span class="sc">%&gt;%</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Convertimos a data frame y normalizar tipos</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.data.frame</span>(<span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Convertir columnas enteras a character, si es necesario</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.integer), as.character)) </span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Unimos los datos al data frame previamente realizado</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    all_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(all_data, json_notas)</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">" - Procesados - "</span>, offset) <span class="co">#Mostrar progreso</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> - Procesados -  20 - Procesados -  40 - Procesados -  60 - Procesados -  80 - Procesados -  100 - Procesados -  120 - Procesados -  140 - Procesados -  160 - Procesados -  180 - Procesados -  200 - Procesados -  220 - Procesados -  240 - Procesados -  260 - Procesados -  280 - Procesados -  300 - Procesados -  320 - Procesados -  340 - Procesados -  360 - Procesados -  380 - Procesados -  400 - Procesados -  420 - Procesados -  440 - Procesados -  460 - Procesados -  480 - Procesados -  500 - Procesados -  520 - Procesados -  540 - Procesados -  560 - Procesados -  580 - Procesados -  600 - Procesados -  620 - Procesados -  640 - Procesados -  660 - Procesados -  680 - Procesados -  700 - Procesados -  720 - Procesados -  740 - Procesados -  760 - Procesados -  780 - Procesados -  800 - Procesados -  820 - Procesados -  840 - Procesados -  860 - Procesados -  880 - Procesados -  900 - Procesados -  920 - Procesados -  940 - Procesados -  960 - Procesados -  980 - Procesados -  1000 - Procesados -  1020 - Procesados -  1040 - Procesados -  1060 - Procesados -  1080 - Procesados -  1100 - Procesados -  1120 - Procesados -  1140 - Procesados -  1160 - Procesados -  1180 - Procesados -  1200 - Procesados -  1220 - Procesados -  1240 - Procesados -  1260 - Procesados -  1280 - Procesados -  1300 - Procesados -  1320 - Procesados -  1340 - Procesados -  1360 - Procesados -  1380 - Procesados -  1400 - Procesados -  1420 - Procesados -  1440 - Procesados -  1460 - Procesados -  1480 - Procesados -  1500 - Procesados -  1520 - Procesados -  1540 - Procesados -  1560 - Procesados -  1580 - Procesados -  1600 - Procesados -  1620 - Procesados -  1640 - Procesados -  1660 - Procesados -  1680 - Procesados -  1700 - Procesados -  1720 - Procesados -  1740 - Procesados -  1760 - Procesados -  1780 - Procesados -  1800 - Procesados -  1820 - Procesados -  1840 - Procesados -  1860 - Procesados -  1880 - Procesados -  1900 - Procesados -  1920 - Procesados -  1940 - Procesados -  1960 - Procesados -  1980 - Procesados -  2000 - Procesados -  2020 - Procesados -  2040 - Procesados -  2060</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(all_data<span class="sc">$</span>post_title))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(all_data<span class="sc">$</span>post_content[<span class="dv">1</span>]) <span class="co">#Ejemplo de cómo nos queda el contenido de la página</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "&lt;p&gt;Un grupo internacional de astrónomos, liderado por Lorena Hernández-García, astrofísica española que trabaja en Chile como parte del Instituto Milenio de Astrofísica (MAS) y del Núcleo Milenio TITANS, &lt;strong&gt;descubrieron un par de agujeros negros &amp;#8220;monstruosos&amp;#8221; que estarían perturbando una nube de gas en el centro de una galaxia&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;Este hallazgo, &lt;strong&gt;fue posible gracias a observaciones del Observatorio Neil Gehrels Swift, de la NASA&lt;/strong&gt;. La agencia espacial publicó el hallazgo en su blog.&lt;/p&gt;\n&lt;p&gt;En concreto, observaron por primera vez la señal de un par de agujeros negros que catalogaron como monstruosos. Estos estarían en el centro de una galaxia generando perturbaciones a una nube de gas, se trata de un hecho inusual.&lt;/p&gt;\n&lt;p&gt;“&lt;strong&gt;Es un evento muy extraño&lt;/strong&gt;, llamado AT 2021hdr, el cual vemos aumentar su brillo cada pocos meses”, dijo Lorena Hernández-García &lt;a href=\"https://science.nasa.gov/missions/swift/nasas-swift-studies-gas-churning-monster-black-holes/\" rel=\"noopener\" target=\"_blank\"&gt;en el comunicado de la NASA&lt;/a&gt;. &lt;/p&gt;\n&lt;div class=\"lee-tambien-bbcl\"&gt;\n\t&lt;div class=\"lee-tambien-titulo\"&gt;Lee también...&lt;/div&gt;\n\t&lt;div class=\"lee-tambien-caja\"&gt;\n\t\t&lt;a href=\"https://www.biobiochile.cl/noticias/ciencia-y-tecnologia/astronomia/2024/11/14/astronomo-chileno-descubrio-como-medir-la-edad-de-uno-de-los-objetos-mas-antiguos-del-universo.shtml\" aria-label=\"lee también\"&gt;\n\t\t\t&lt;div class=\"lee-tambien-img lazy\" style=\"background-image: url(https://media.biobiochile.cl/wp-content/uploads/2024/11/nicolas-cristi-cambiaso-320x190.jpg);\"&gt;&lt;/div&gt;\n\t\t&lt;/a&gt;\n\t\t&lt;a href=\"https://www.biobiochile.cl/noticias/ciencia-y-tecnologia/astronomia/2024/11/14/astronomo-chileno-descubrio-como-medir-la-edad-de-uno-de-los-objetos-mas-antiguos-del-universo.shtml\" aria-label=\"titulo de nota lee tambien\" class=\"lee-tambien-titular\"&gt;Astrónomo chileno descubrió cómo medir la edad de uno de los objetos más antiguos del Universo&lt;/a&gt;\n\t\t&lt;span style=\"display: none\"&gt;Jueves 14 Noviembre, 2024 | 11:29&lt;/span&gt;\n\t&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;“Creemos que &lt;strong&gt;una nube de gas envolvió a los agujeros negros&lt;/strong&gt;. A medida que orbitan uno alrededor del otro, los agujeros negros interactúan con la nube, perturbando y consumiendo su gas. Esto produce un patrón oscilante en la luz que emite el sistema”.&lt;/p&gt;\n&lt;p&gt;El artículo sobre AT 2021hdr, bajo autoría principal de Hernández-García, acaba de ser publicado en la revista &lt;a href=\"https://www.aanda.org/10.1051/0004-6361/202451305\" rel=\"noopener\" target=\"_blank\"&gt;Astronomy and Astrophysics&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;Este sistema binario de agujeros negros gemelos &lt;strong&gt;está en el centro de una galaxia llamada 2MASX J21240027+3409114&lt;/strong&gt;, situada a mil millones de años luz de distancia en la constelación norte de Cygnus. &lt;/p&gt;\n&lt;p&gt;El par está separado por unos 26 mil millones de kilómetros de distancia, lo suficientemente cerca como para que la luz solo tarde un día en viajar entre ellos. Juntos&lt;strong&gt; contienen 40 millones de veces la masa del Sol&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;El equipo científico estima que los agujeros negros completan una órbita cada 130 días y colisionarán y se fusionarán en aproximadamente 70.000 años.&lt;/p&gt;\n&lt;blockquote class=\"instagram-media\" data-instgrm-captioned data-instgrm-permalink=\"https://www.instagram.com/reel/DCUoy53ydD5/?utm_source=ig_embed&amp;amp;utm_campaign=loading\" data-instgrm-version=\"14\" style=\" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);\"&gt;\n&lt;div style=\"padding:16px;\"&gt; &lt;a href=\"https://www.instagram.com/reel/DCUoy53ydD5/?utm_source=ig_embed&amp;amp;utm_campaign=loading\" style=\" background:#FFFFFF; line-height:0; padding:0 0; text-align:center; text-decoration:none; width:100%;\" target=\"_blank\" rel=\"noopener\"&gt; &lt;/p&gt;\n&lt;div style=\" display: flex; flex-direction: row; align-items: center;\"&gt;\n&lt;div style=\"background-color: #F4F4F4; border-radius: 50%; flex-grow: 0; height: 40px; margin-right: 14px; width: 40px;\"&gt;&lt;/div&gt;\n&lt;div style=\"display: flex; flex-direction: column; flex-grow: 1; justify-content: center;\"&gt;\n&lt;div style=\" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; margin-bottom: 6px; width: 100px;\"&gt;&lt;/div&gt;\n&lt;div style=\" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; width: 60px;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div style=\"padding: 19% 0;\"&gt;&lt;/div&gt;\n&lt;div style=\"display:block; height:50px; margin:0 auto 12px; width:50px;\"&gt;&lt;svg width=\"50px\" height=\"50px\" viewBox=\"0 0 60 60\" version=\"1.1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\"&gt;&lt;g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"&gt;&lt;g transform=\"translate(-511.000000, -20.000000)\" fill=\"#000000\"&gt;&lt;g&gt;&lt;path d=\"M556.869,30.41 C554.814,30.41 553.148,32.076 553.148,34.131 C553.148,36.186 554.814,37.852 556.869,37.852 C558.924,37.852 560.59,36.186 560.59,34.131 C560.59,32.076 558.924,30.41 556.869,30.41 M541,60.657 C535.114,60.657 530.342,55.887 530.342,50 C530.342,44.114 535.114,39.342 541,39.342 C546.887,39.342 551.658,44.114 551.658,50 C551.658,55.887 546.887,60.657 541,60.657 M541,33.886 C532.1,33.886 524.886,41.1 524.886,50 C524.886,58.899 532.1,66.113 541,66.113 C549.9,66.113 557.115,58.899 557.115,50 C557.115,41.1 549.9,33.886 541,33.886 M565.378,62.101 C565.244,65.022 564.756,66.606 564.346,67.663 C563.803,69.06 563.154,70.057 562.106,71.106 C561.058,72.155 560.06,72.803 558.662,73.347 C557.607,73.757 556.021,74.244 553.102,74.378 C549.944,74.521 548.997,74.552 541,74.552 C533.003,74.552 532.056,74.521 528.898,74.378 C525.979,74.244 524.393,73.757 523.338,73.347 C521.94,72.803 520.942,72.155 519.894,71.106 C518.846,70.057 518.197,69.06 517.654,67.663 C517.244,66.606 516.755,65.022 516.623,62.101 C516.479,58.943 516.448,57.996 516.448,50 C516.448,42.003 516.479,41.056 516.623,37.899 C516.755,34.978 517.244,33.391 517.654,32.338 C518.197,30.938 518.846,29.942 519.894,28.894 C520.942,27.846 521.94,27.196 523.338,26.654 C524.393,26.244 525.979,25.756 528.898,25.623 C532.057,25.479 533.004,25.448 541,25.448 C548.997,25.448 549.943,25.479 553.102,25.623 C556.021,25.756 557.607,26.244 558.662,26.654 C560.06,27.196 561.058,27.846 562.106,28.894 C563.154,29.942 563.803,30.938 564.346,32.338 C564.756,33.391 565.244,34.978 565.378,37.899 C565.522,41.056 565.552,42.003 565.552,50 C565.552,57.996 565.522,58.943 565.378,62.101 M570.82,37.631 C570.674,34.438 570.167,32.258 569.425,30.349 C568.659,28.377 567.633,26.702 565.965,25.035 C564.297,23.368 562.623,22.342 560.652,21.575 C558.743,20.834 556.562,20.326 553.369,20.18 C550.169,20.033 549.148,20 541,20 C532.853,20 531.831,20.033 528.631,20.18 C525.438,20.326 523.257,20.834 521.349,21.575 C519.376,22.342 517.703,23.368 516.035,25.035 C514.368,26.702 513.342,28.377 512.574,30.349 C511.834,32.258 511.326,34.438 511.181,37.631 C511.035,40.831 511,41.851 511,50 C511,58.147 511.035,59.17 511.181,62.369 C511.326,65.562 511.834,67.743 512.574,69.651 C513.342,71.625 514.368,73.296 516.035,74.965 C517.703,76.634 519.376,77.658 521.349,78.425 C523.257,79.167 525.438,79.673 528.631,79.82 C531.831,79.965 532.853,80.001 541,80.001 C549.148,80.001 550.169,79.965 553.369,79.82 C556.562,79.673 558.743,79.167 560.652,78.425 C562.623,77.658 564.297,76.634 565.965,74.965 C567.633,73.296 568.659,71.625 569.425,69.651 C570.167,67.743 570.674,65.562 570.82,62.369 C570.966,59.17 571,58.147 571,50 C571,41.851 570.966,40.831 570.82,37.631\"&gt;&lt;/path&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;\n&lt;div style=\"padding-top: 8px;\"&gt;\n&lt;div style=\" color:#3897f0; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:550; line-height:18px;\"&gt;Ver esta publicación en Instagram&lt;/div&gt;\n&lt;/div&gt;\n&lt;div style=\"padding: 12.5% 0;\"&gt;&lt;/div&gt;\n&lt;div style=\"display: flex; flex-direction: row; margin-bottom: 14px; align-items: center;\"&gt;\n&lt;div&gt;\n&lt;div style=\"background-color: #F4F4F4; border-radius: 50%; height: 12.5px; width: 12.5px; transform: translateX(0px) translateY(7px);\"&gt;&lt;/div&gt;\n&lt;div style=\"background-color: #F4F4F4; height: 12.5px; transform: rotate(-45deg) translateX(3px) translateY(1px); width: 12.5px; flex-grow: 0; margin-right: 14px; margin-left: 2px;\"&gt;&lt;/div&gt;\n&lt;div style=\"background-color: #F4F4F4; border-radius: 50%; height: 12.5px; width: 12.5px; transform: translateX(9px) translateY(-18px);\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div style=\"margin-left: 8px;\"&gt;\n&lt;div style=\" background-color: #F4F4F4; border-radius: 50%; flex-grow: 0; height: 20px; width: 20px;\"&gt;&lt;/div&gt;\n&lt;div style=\" width: 0; height: 0; border-top: 2px solid transparent; border-left: 6px solid #f4f4f4; border-bottom: 2px solid transparent; transform: translateX(16px) translateY(-4px) rotate(30deg)\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div style=\"margin-left: auto;\"&gt;\n&lt;div style=\" width: 0px; border-top: 8px solid #F4F4F4; border-right: 8px solid transparent; transform: translateY(16px);\"&gt;&lt;/div&gt;\n&lt;div style=\" background-color: #F4F4F4; flex-grow: 0; height: 12px; width: 16px; transform: translateY(-4px);\"&gt;&lt;/div&gt;\n&lt;div style=\" width: 0; height: 0; border-top: 8px solid #F4F4F4; border-left: 8px solid transparent; transform: translateY(-4px) translateX(8px);\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div style=\"display: flex; flex-direction: column; flex-grow: 1; justify-content: center; margin-bottom: 24px;\"&gt;\n&lt;div style=\" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; margin-bottom: 6px; width: 224px;\"&gt;&lt;/div&gt;\n&lt;div style=\" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; width: 144px;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;\"&gt;&lt;a href=\"https://www.instagram.com/reel/DCUoy53ydD5/?utm_source=ig_embed&amp;amp;utm_campaign=loading\" style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;\" target=\"_blank\" rel=\"noopener\"&gt;Una publicación compartida por Inst. Milenio de Astrofísica (@astrofisicamas)&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;script async src=\"//www.instagram.com/embed.js\"&gt;&lt;/script&gt;&lt;/p&gt;\n&lt;h2&gt;El sistema AT 2021hdr&lt;/h2&gt;\n&lt;p&gt;AT 2021hdr fue detectado por primera vez en marzo de 2021 por el ZTF (Zwicky Transient Facility) en el Observatorio Palomar, en California. Luego,&lt;strong&gt; fue identificado como una fuente potencialmente interesante por el proyecto ALeRCE (Automatic Learning for the Rapid Classification of Events) en Chile&lt;/strong&gt;. &lt;/p&gt;\n&lt;p&gt;Este broker (sistema capaz de ingerir y clasificar gran volumen de alertas astronómicas combinando herramientas de inteligencia artificial y astrofísica) combina herramientas de inteligencia artificial con experticia humana para informar sobre eventos en el cielo nocturno a la comunidad astronómica, usando la gran cantidad de datos recopilados por programas de sondeo como el ZTF.&lt;/p&gt;\n&lt;p&gt;“Aunque originalmente se pensó que el primer destello era una supernova, los estallidos en 2022 nos hicieron pensar en otras explicaciones”, dijo la coautora del estudio, Alejandra Muñoz-Arancibia, miembro del equipo ALeRCE y astrofísica del MAS y del Centro de Modelamiento Matemático de la Universidad de Chile (CMM). “Cada evento posterior nos ha ayudado a refinar el modelo de lo que creemos que está sucediendo en el sistema”.&lt;/p&gt;\n&lt;p&gt;ZTF ha detectado estallidos de AT 2021hdr cada 60 a 90 días desde el primer destello. Hernández-García, quien también es investigadora del Instituto de Física y Astronomía de la Universidad de Valparaíso, y su equipo han estado observando la fuente con Swift desde noviembre de 2022. Swift les ayudó a determinar que el sistema produce oscilaciones en luz ultravioleta y de rayos X en las mismas escalas de tiempo que el ZTF las observa en el rango visible.&lt;/p&gt;\n&lt;p&gt;Los investigadores analizaron distintos escenarios que dieran explicación a lo que mostraban los datos. Inicialmente, pensaron que la señal podría ser el subproducto de una actividad normal en el centro galáctico. Luego consideraron que un evento de disrupción de marea —la destrucción de una estrella que se acercó demasiado a uno de los agujeros negros— podría ser la causa.&lt;/p&gt;\n&lt;div class=\"lee-tambien-bbcl\"&gt;\n\t&lt;div class=\"lee-tambien-titulo\"&gt;Lee también...&lt;/div&gt;\n\t&lt;div class=\"lee-tambien-caja\"&gt;\n\t\t&lt;a href=\"https://www.biobiochile.cl/noticias/ciencia-y-tecnologia/ciencia/2024/11/05/jenny-blamey-investigadora-usach-lidera-mision-pionera-que-enviara-microorganismos-vivos-al-espacio.shtml\" aria-label=\"lee también\"&gt;\n\t\t\t&lt;div class=\"lee-tambien-img lazy\" style=\"background-image: url(https://media.biobiochile.cl/wp-content/uploads/2024/11/jenny-blamey-320x190.jpg);\"&gt;&lt;/div&gt;\n\t\t&lt;/a&gt;\n\t\t&lt;a href=\"https://www.biobiochile.cl/noticias/ciencia-y-tecnologia/ciencia/2024/11/05/jenny-blamey-investigadora-usach-lidera-mision-pionera-que-enviara-microorganismos-vivos-al-espacio.shtml\" aria-label=\"titulo de nota lee tambien\" class=\"lee-tambien-titular\"&gt;Jenny Blamey, investigadora Usach, lidera misión pionera que enviará microorganismos vivos al espacio&lt;/a&gt;\n\t\t&lt;span style=\"display: none\"&gt;Martes 05 Noviembre, 2024 | 07:00&lt;/span&gt;\n\t&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;Finalmente, optaron por otra posibilidad:&lt;strong&gt; la disrupción de marea de una nube de gas&lt;/strong&gt;, una que era más grande que el sistema binario de agujeros negros. Cuando la nube se encontró con ellos, la gravedad la desgarró, formando filamentos alrededor del par y la fricción comenzó a calentarla. &lt;/p&gt;\n&lt;p&gt;Además, el gas se volvió particularmente denso y caliente. A medida que el sistema binario orbita, la compleja interacción de fuerzas expulsa parte del gas del sistema en cada rotación. Estas interacciones producen las fluctuaciones que Swift y ZTF observaron en forma de oscilaciones.&lt;/p&gt;\n&lt;h2&gt;Más sobre los agujeros negros&lt;/h2&gt;\n&lt;p&gt;Hernández-García y su equipo &lt;strong&gt;planean continuar las observaciones de AT 2021hdr para comprender mejor el sistema y afinar sus modelos&lt;/strong&gt;. También están interesados en estudiar su galaxia anfitriona, la Vía Láctea, que actualmente se está fusionando con otra cercana, un evento reportado por primera vez en su artículo.&lt;/p&gt;\n&lt;p&gt;“Al acercarse el 20º aniversario de Swift, es increíble ver toda la nueva ciencia que sigue ayudando a la comunidad a lograr”, dijo S. Bradley Cenko, investigador principal de Swift en el Centro de Vuelo Espacial Goddard de la NASA en Greenbelt, Maryland, Estados Unidos. “Aún hay mucho que tiene para enseñarnos sobre nuestro cosmos, el cual está en constante cambio”.&lt;/p&gt;\n&lt;p&gt;Goddard gestiona la misión Swift en colaboración con Penn State, el Laboratorio Nacional de Los Álamos en Nuevo México y Northrop Grumman Space Systems en Dulles, Virginia. Otros socios incluyen la Universidad de Leicester y el Mullard Space Science Laboratory en el Reino Unido, el Observatorio Brera en Italia y la Agencia Espacial Italiana&lt;/p&gt;\n&lt;blockquote class=\"twitter-tweet\"&gt;\n&lt;p lang=\"es\" dir=\"ltr\"&gt;Luego de que astrónomos detectaran estallidos en una galaxia lejana, datos de nuestro telescopio Swift y observaciones desde tierra ayudaron a hallar al probable culpable: un par de agujeros negros monstruosos que orbitan dentro de una nube de gas: &lt;a href=\"https://t.co/88mLBRCIiQ\"&gt;https://t.co/88mLBRCIiQ&lt;/a&gt; &lt;a href=\"https://t.co/vkVVdp9JKX\"&gt;pic.twitter.com/vkVVdp9JKX&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&amp;mdash; NASA en español (@NASA_es) &lt;a href=\"https://twitter.com/NASA_es/status/1856774036002386301?ref_src=twsrc%5Etfw\"&gt;November 13, 2024&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;\n&lt;p&gt; &lt;script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"&gt;&lt;/script&gt;&lt;/p&gt;\n"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterar sobre cada fila del data frame</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(all_data))) {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convertir el contenido HTML en un nodo HTML</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  nodo_html <span class="ot">&lt;-</span> <span class="fu">read_html</span>(all_data<span class="sc">$</span>post_content[i])</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extraer los párrafos del nodo HTML</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  parrafos <span class="ot">&lt;-</span> nodo_html <span class="sc">%&gt;%</span> <span class="fu">html_elements</span>(<span class="st">"p"</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text2</span>()</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filtrar los párrafos que contienen "inteligencia artificial"</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  parrafos_filtrados <span class="ot">&lt;-</span> parrafos[<span class="fu">grepl</span>(<span class="st">"inteligencia artificial"</span>, parrafos, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)]</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Guardar los párrafos únicos en la columna correspondiente</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  all_data<span class="sc">$</span>parrafos_filtrados[i] <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">unique</span>(parrafos_filtrados))</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="sacamos-un-data-frame-con-las-columnas-que-nos-interesen" class="level4">
<h4 class="anchored" data-anchor-id="sacamos-un-data-frame-con-las-columnas-que-nos-interesen">Sacamos un data frame con las columnas que nos interesen</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>datos_proc <span class="ot">&lt;-</span> all_data <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    post_content, ID, post_title, year, month, day, post_category_primary.name, post_category_secondary.name</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Después de ejecutar el bucle y extraer todos los datos</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Actualizamos "total_results" con el número total de filas en el data frame final</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>total_results <span class="ot">&lt;-</span> <span class="fu">nrow</span>(datos_proc)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirmación de la actualización</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"El número total de resultados obtenidos es:"</span>, total_results, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>El número total de resultados obtenidos es: 2060 </code></pre>
</div>
</div>
</section>
</section>
<section id="limpieza-de-las-secciones-lee-también-instagram-y-twitter" class="level2">
<h2 class="anchored" data-anchor-id="limpieza-de-las-secciones-lee-también-instagram-y-twitter">Limpieza de las secciones “Lee también…”, Instagram y Twitter</h2>
<p>Aparecen algunos bloques html que ponen noticias como recomedación para leer y pueden contener las palabras “inteligencia artificial” sin que el contenido de la nota se refiera específicamente a eso. Para ello podemos usar el paquete rvest. Lo mismo haremos con los bloques que tienen publicaciones de X (ex Twitter) o de Instagram. Así, mantendremos solo el texto de la noticia y eliminaremos las noticias que se agregaron sin que sean relevantes.</p>
<section id="necesitamos-una-función-que-se-dedique-a-encontrar-esa-parte-del-texto-y-eliminarla" class="level4">
<h4 class="anchored" data-anchor-id="necesitamos-una-función-que-se-dedique-a-encontrar-esa-parte-del-texto-y-eliminarla">Necesitamos una función que se dedique a encontrar esa parte del texto y eliminarla:</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(datos_proc))){</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convertimos el contenido a un objeto HTML para usar rvest</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  contenido_html <span class="ot">&lt;-</span> rvest<span class="sc">::</span><span class="fu">read_html</span>(datos_proc<span class="sc">$</span>post_content[[i]])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Eliminamos los divs con la clase 'lee-tambien-bbcl'</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  contenido_html <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">"div.lee-tambien-bbcl"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xml_remove</span>()</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Eliminamos los divs de publicaciones de Instagram</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  contenido_html <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">"blockquote.instagram-media"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xml_remove</span>()</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Eliminamos los divs de publicaciones de Twitter</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  contenido_html <span class="sc">%&gt;%</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">"blockquote.twitter-tweet"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xml_remove</span>()</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convertimos el HTML limpio a texto y eliminamos cualquier "Lee también" que quede en el contenido</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  contenido_texto <span class="ot">&lt;-</span> <span class="fu">as.character</span>(contenido_html)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  contenido_texto <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(contenido_texto, <span class="fu">regex</span>(<span class="st">"Lee también.*?&lt;</span><span class="sc">\\</span><span class="st">/div&gt;"</span>, <span class="at">dotall =</span> <span class="cn">TRUE</span>), <span class="st">""</span>)</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Guardamos el contenido limpio de vuelta en el data frame</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  datos_proc<span class="sc">$</span>post_content[[i]] <span class="ot">&lt;-</span> contenido_texto</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Revisamos el contenido HTML resultante (opcional)</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(as.character(contenido_html))</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ahora-eliminamos-todas-las-notas-que-no-mencionen-inteligencia-artificial-por-lo-menos-una-vez" class="level4">
<h4 class="anchored" data-anchor-id="ahora-eliminamos-todas-las-notas-que-no-mencionen-inteligencia-artificial-por-lo-menos-una-vez">Ahora eliminamos todas las notas que no mencionen Inteligencia Artificial por lo menos una vez:</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>datos_proc <span class="ot">&lt;-</span> datos_proc <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"inteligencia artificial"</span>, post_content, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Actualizamos "total_results" con el número total de filas en el data frame final</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>total_results <span class="ot">&lt;-</span> <span class="fu">nrow</span>(datos_proc)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirmación de la actualización</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"El número total de resultados obtenidos es:"</span>, total_results, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>El número total de resultados obtenidos es: 1885 </code></pre>
</div>
</div>
</section>
<section id="también-podemos-exportar-como-html-para-ver-si-desaparecieron-los-bloques-completos" class="level4">
<h4 class="anchored" data-anchor-id="también-podemos-exportar-como-html-para-ver-si-desaparecieron-los-bloques-completos">También podemos exportar como html para ver si desaparecieron los bloques completos</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seteamos nombre archivo salida</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>out_file <span class="ot">&lt;-</span> <span class="st">"noticia_casi.html"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Exportamos el contenido HTML de una nota aleatoria</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="fu">as.character</span>(datos_proc<span class="sc">$</span>post_content[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span>total_results, <span class="dv">1</span>)]), <span class="at">con =</span> out_file)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Mensaje de confirmación </span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"El contenido en bruto se ha exportado a"</span>, out_file) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>El contenido en bruto se ha exportado a noticia_casi.html</code></pre>
</div>
</div>
</section>
</section>
<section id="limpieza-de-texto-general" class="level2">
<h2 class="anchored" data-anchor-id="limpieza-de-texto-general">Limpieza de texto general</h2>
<p>Eliminamos la parte de código que queda en el texto para convertirlo en texto plano.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inicializamos variables</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>contador <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>html_content <span class="ot">&lt;-</span> <span class="fu">list</span>()       <span class="co"># Lista para hacer nodos html</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Procesar el HTML y extraer el texto</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (contador <span class="sc">&lt;=</span> total_results) {</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convertir a nodo HTML</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  html_content[[contador]] <span class="ot">&lt;-</span> <span class="fu">read_html</span>(datos_proc<span class="sc">$</span>post_content[[contador]])</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extraemos y limpiamos el texto</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  datos_proc<span class="sc">$</span>post_content[[contador]] <span class="ot">&lt;-</span> html_content[[contador]] <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text2</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_squish</span>()</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  contador <span class="ot">&lt;-</span> contador <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="descriptivos-de-frecuencia-de-palabras" class="level2">
<h2 class="anchored" data-anchor-id="descriptivos-de-frecuencia-de-palabras">Descriptivos de frecuencia de palabras</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Esto nos sirve sobre todo para saber si se nos coló algún bloque de código</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccionamos solo la columna de texto que nos interesa</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>text_data <span class="ot">&lt;-</span> datos_proc <span class="sc">%&gt;%</span> <span class="fu">select</span>(post_content)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenizamos el texto y lo dividimos en palabras</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>words <span class="ot">&lt;-</span> datos_proc <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, post_content)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Cantidad de palabras extraídas</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(words)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1030318</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar palabras comunes en español</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"stop_words"</span>) <span class="co"># Cargar palabras comunes en inglés (desde tidytext)</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>stop_words_es <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">"el"</span>, <span class="st">"la"</span>, <span class="st">"de"</span>, <span class="st">"y"</span>, <span class="st">"en"</span>, <span class="st">"que"</span>, <span class="st">"a"</span>, <span class="st">"los"</span>, <span class="st">"con"</span>, <span class="st">"por"</span>, <span class="st">"lee"</span>, <span class="st">"las"</span>, <span class="st">"para"</span>, <span class="st">"se"</span>, <span class="st">"es"</span>, <span class="st">"su"</span>,  <span class="st">"del"</span>, <span class="st">"una"</span>, <span class="st">"al"</span>, <span class="st">"como"</span>, <span class="st">"más"</span>, <span class="st">"lo"</span>, <span class="st">"este"</span>, <span class="st">"sus"</span>, <span class="st">"esta"</span>, <span class="st">"también"</span>, <span class="st">"entre"</span>, <span class="st">"fue"</span>, <span class="st">"han"</span>, <span class="st">"un"</span>, <span class="st">"sin"</span>, <span class="st">"sobre"</span>, <span class="st">"ya"</span>, <span class="st">"pero"</span>, <span class="st">"no"</span>, <span class="st">"muy"</span>, <span class="st">"si"</span>, <span class="st">"porque"</span>, <span class="st">"cuando"</span>, <span class="st">"desde"</span>, <span class="st">"todo"</span>, <span class="st">"son"</span>, <span class="st">"ha"</span>, <span class="st">"hay"</span>, <span class="st">"le"</span>, <span class="st">"ni"</span>, <span class="st">"cada"</span>, <span class="st">"me"</span>, <span class="st">"tanto"</span>, <span class="st">"hasta"</span>, <span class="st">"nos"</span>, <span class="st">"mi"</span>, <span class="st">"tus"</span>, <span class="st">"mis"</span>, <span class="st">"tengo"</span>, <span class="st">"tienes"</span>, <span class="st">"esa"</span>, <span class="st">"ese"</span>, <span class="st">"tan"</span>, <span class="st">"esa"</span>, <span class="st">"esos"</span>, <span class="st">"esa"</span>, <span class="st">"esas"</span>, <span class="st">"él"</span>, <span class="st">"ella"</span>, <span class="st">"ellos"</span>, <span class="st">"ellas"</span>, <span class="st">"nosotros"</span>, <span class="st">"vosotros"</span>, <span class="st">"vosotras"</span>, <span class="st">"ustedes"</span>, <span class="st">"uno"</span>, <span class="st">"una"</span>, <span class="st">"unos"</span>, <span class="st">"unas"</span>, <span class="st">"alguien"</span>, <span class="st">"quien"</span>, <span class="st">"cual"</span>, <span class="st">"cuales"</span>, <span class="st">"cualquier"</span>, <span class="st">"cualesquiera"</span>, <span class="st">"como"</span>, <span class="st">"donde"</span>, <span class="st">"cuanto"</span>, <span class="st">"demasiado"</span>, <span class="st">"poco"</span>, <span class="st">"menos"</span>, <span class="st">"casi"</span>, <span class="st">"algunos"</span>, <span class="st">"algunas"</span>, <span class="st">"aunque"</span>, <span class="st">"cuyo"</span>, <span class="st">"cuya"</span>, <span class="st">"cuyos"</span>, <span class="st">"cuyas"</span>, <span class="st">"ser"</span>, <span class="st">"haber"</span>, <span class="st">"estar"</span>, <span class="st">"tener"</span>, <span class="st">"hacer"</span>, <span class="st">"ir"</span>, <span class="st">"ver"</span>, <span class="st">"dar"</span>, <span class="st">"debe"</span>, <span class="st">"debido"</span>, <span class="st">"puede"</span>, <span class="st">"pues"</span>, <span class="st">"dicho"</span>, <span class="st">"hecho"</span>, <span class="st">"mientras"</span>, <span class="st">"luego"</span>, <span class="st">"además"</span>, <span class="st">"entonces"</span>, <span class="st">"así"</span>, <span class="st">"tal"</span>, <span class="st">"dicha"</span>, <span class="st">"mismo"</span>, <span class="st">"misma"</span>, <span class="st">"demás"</span>, <span class="st">"otro"</span>, <span class="st">"otra"</span>, <span class="st">"otros"</span>, <span class="st">"otras"</span>, <span class="st">"debería"</span>, <span class="st">"tendría"</span>, <span class="st">"podría"</span>, <span class="st">"menos"</span>, <span class="st">"cuándo"</span>, <span class="st">"dónde"</span>,  <span class="st">"qué"</span>, <span class="st">"quién"</span>, <span class="st">"cuyo"</span>, <span class="st">"la"</span>, <span class="st">"lo"</span>, <span class="st">"las"</span>, <span class="st">"que"</span>, <span class="st">"está"</span>, <span class="st">"según"</span>, <span class="st">"esto"</span>, <span class="st">"inteligencia"</span>, <span class="st">"artificial"</span>, <span class="st">"ia"</span>, <span class="st">"tecnología"</span>, <span class="st">"chile"</span>, <span class="st">"años"</span>, <span class="st">"personas"</span>, <span class="st">"parte"</span>, <span class="st">"tiene"</span>, <span class="st">"año"</span>, <span class="st">"cómo"</span>, <span class="st">"están"</span>, <span class="st">"forma"</span>, <span class="st">"durante"</span>, <span class="st">"vez"</span>, <span class="st">"estos"</span>))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtramos las stop words del texto</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>words_clean <span class="ot">&lt;-</span> words <span class="sc">%&gt;%</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words, <span class="at">by =</span> <span class="st">"word"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words_es, <span class="at">by =</span> <span class="st">"word"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculamos frecuencia de palabras</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> words_clean <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver las 10 palabras más frecuentes</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(word_counts, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          word    n
1        mundo 1435
2        datos 1378
3     millones 1057
4  información  977
5      trabajo  919
6   desarrollo  883
7         país  874
8       futuro  865
9       tiempo  860
10      pueden  854</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Graficamos las palabras más frecuentes</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>word_counts <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(word, n), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Frecuencia de Palabras en Artículos"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Palabra"</span>, <span class="at">y =</span> <span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="qmd1_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtra solo palabras con una frecuencia mínima muy baja (ej. n &gt; 5)</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>word_counts_filtered <span class="ot">&lt;-</span> word_counts <span class="sc">%&gt;%</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">60</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> word_counts_filtered, </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="fl">0.5</span>,              <span class="co"># Aumenta el tamaño general de las palabras</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">minSize =</span> <span class="dv">0</span>,             <span class="co"># Asegura que todas las palabras sean visibles</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">gridSize =</span> <span class="dv">1</span>,            <span class="co"># Ajusta la densidad de palabras</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"random-dark"</span>,   <span class="co"># Colores para las palabras</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">backgroundColor =</span> <span class="st">"white"</span>, <span class="co"># Fondo blanco</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">shape =</span> <span class="st">"circle"</span>,        <span class="co"># Forma circular para compactar la nube</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">ellipticity =</span> <span class="dv">1</span>          <span class="co"># Elimina la elipse y fuerza un formato más centrado</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="wordcloud2 html-widget html-fill-item" id="htmlwidget-f2328fdafb91fc690df6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f2328fdafb91fc690df6">{"x":{"word":["mundo","datos","millones","información","trabajo","desarrollo","país","futuro","tiempo","pueden","todos","dos","eso","través","hace","nueva","vida","solo","empresas","gran","universidad","sistema","empresa","usuarios","digital","estas","ahora","uso","manera","dijo","cuenta","compañía","imágenes","google","ejemplo","nuevo","hoy","redes","bien","día","sociales","incluso","ciencia","estados","proyecto","seguridad","mejor","embargo","mayor","mucho","primera","era","nuevas","caso","medio","sido","tipo","nivel","nuestro","sino"],"freq":[1435,1378,1057,977,919,883,874,865,860,854,851,842,838,836,824,818,804,797,796,795,795,792,785,779,774,745,733,718,713,710,701,694,693,690,656,645,638,623,616,607,597,594,593,593,593,593,591,589,589,581,579,577,576,575,568,568,560,550,549,544],"fontFamily":"Segoe UI","fontWeight":"bold","color":"random-dark","minSize":0,"weightFactor":0.0627177700348432,"backgroundColor":"white","gridSize":1,"minRotation":-0.7853981633974483,"maxRotation":0.7853981633974483,"shuffle":true,"rotateRatio":0.4,"shape":"circle","ellipticity":1,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
</div>
</div>
<p>Se visualiza como luego de limpiar el texto y omitir palabras que no interesan, las palabras más utilizadas son: inteligencia, artificial, IA, tecnología y Chile. Cabe destacar la aparición alta de palabras como datos e información.</p>
<p><strong>Realizar una nube de palabras</strong></p>
<p><strong>Excluir IA y otros</strong></p>
<p><strong>Realizar un vector para la búsqueda de palabras</strong></p>
</section>
<section id="descriptivo-cantidad-de-notas-por-meses" class="level2">
<h2 class="anchored" data-anchor-id="descriptivo-cantidad-de-notas-por-meses">Descriptivo cantidad de notas por meses</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupamos los datos por año y mes, y contar las publicaciones</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>publicaciones_por_mes <span class="ot">&lt;-</span> datos_proc <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cantidad =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fecha =</span> <span class="fu">as.Date</span>(<span class="fu">paste</span>(year, month, <span class="st">"01"</span>, <span class="at">sep =</span> <span class="st">"-"</span>))) <span class="co"># Crear una fecha para el eje x</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos el gráfico</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(publicaciones_por_mes, <span class="fu">aes</span>(<span class="at">x =</span> fecha, <span class="at">y =</span> cantidad)) <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Línea de publicaciones</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Puntos en cada mes</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">color =</span> <span class="st">"green"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Curva de tendencia</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Cantidad de Notas sobre Inteligencia Artificial Publicadas por Mes"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Año"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Cantidad de Notas"</span>) <span class="sc">+</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">date_breaks =</span> <span class="st">"1 year"</span>) <span class="co"># Mostrar solo los años en el eje x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="qmd1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se visualiza un aumento exponencial de noticias que se condice con el boom de la inteligencia artificial (IA) a fines del 2022 por la salida de ChatGPT. Luego hay picos altos y bajos, sin embargo nunca se vuelve a la frecuencia antes del boom inicial. Podría ser interesante investigar las fechas de los picos altos para ver si ocurrieron hechos importantes en relación a la IA.</p>
</section>
<section id="descriptivo-cantidad-de-notas-por-categoría" class="level2">
<h2 class="anchored" data-anchor-id="descriptivo-cantidad-de-notas-por-categoría">Descriptivo cantidad de notas por categoría</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contamos las publicaciones por categoría</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>publicaciones_por_categoria <span class="ot">&lt;-</span> datos_proc <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(post_category_primary.name) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cantidad =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(cantidad))</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtramos para quedarnos con las 15 categorías más usadas</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>top_15_categorias <span class="ot">&lt;-</span> publicaciones_por_categoria <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">15</span>, cantidad)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de Barras para las 15 categorías más usadas</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_15_categorias, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(post_category_primary.name, <span class="sc">-</span>cantidad), <span class="at">y =</span> cantidad, <span class="at">fill =</span> post_category_primary.name)) <span class="sc">+</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 15 Categorías más Usadas en Notas"</span>,</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Categoría"</span>,</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Cantidad de Notas"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>), </span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="qmd1_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Como era de esperarse, el tema más recurrente es Ciencia y Tecnología, seguido de Economía, Nacional, Artes y Cultura y Opinión.</p>
</section>
<section id="web-scrapping-utilizando-la-api-de-emol" class="level2">
<h2 class="anchored" data-anchor-id="web-scrapping-utilizando-la-api-de-emol">Web-scrapping utilizando la API de Emol</h2>
<p>Lo que sigue de aquí en adelante se encuentra incompleto, sin embargo, se consideró relevante incluirlo en la entrega para poder recibir una retroalimentación. El procedimiento es el mismo: se encontró una API no documentada que utiliza el buscador de Emol. Luego se fueron descubriendo a prueba y error los parámetros necesarios para iterar. La mayor complicación que se tuvo es que la estructura de datos que entrega la API difiere mucho en este caso. La API entrega las noticias agrupadas de diez en diez.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>search_query <span class="ot">&lt;-</span> <span class="st">"Inteligencia Artificial"</span> <span class="co"># Palabra clave para obtener los artículos</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>from <span class="ot">&lt;-</span> <span class="dv">0</span>  <span class="co"># Seteamos en 0 para que comience por el primer artículo</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>total_results <span class="ot">&lt;-</span> <span class="dv">300</span>  <span class="co"># Numero de búsquedas total al ingresar la palabra clave en emol.cl</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>procesados <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>all_data_emol <span class="ot">&lt;-</span> <span class="fu">list</span>() <span class="co"># Creamos lista vacía para almacenar todo el contenido (por el formato del JSON no se puede utilizar un data frame)</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>combine_lists <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  combined_list <span class="ot">&lt;-</span> <span class="fu">c</span>(...)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(combined_list)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>} <span class="co">#Creamos función para combinar listas</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Iteramos hasta que el from sea menor al total de resultados</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (from <span class="sc">&lt;</span> total_results) {</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Construimos el link para cada iteración (lo más importante es que el from vaya aumentando)</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://newsapi.ecn.cl/NewsApi/emol/buscador/emol,inversiones,mediosregionales,legal,campo,blogs,guioteca,elmercurio-digital,emoltv,lasegundaprint,revistalibros,mercuriodeportes?q=inteligencia%20artificial&amp;size=10&amp;from="</span>, from</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>    from <span class="ot">&lt;-</span> from <span class="sc">+</span> <span class="dv">10</span> <span class="co"># Se aumenta el from para cada iteración (después de que se construya el link)</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>    response <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>(</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>    { <span class="fu">GET</span>(url) },</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> <span class="cf">function</span>(e) { </span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Error en la conexión: "</span>, e) </span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (<span class="fu">is.null</span>(response)) <span class="cf">next</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>    data1 <span class="ot">&lt;-</span> <span class="fu">content</span>(response, <span class="st">"text"</span>, <span class="at">encoding =</span> <span class="st">"UTF-8"</span>) <span class="co"># Transformamos el cuerpo de "response" en texto en formato UTF-8 </span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>    json_data1 <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(data1, <span class="at">flatten =</span> <span class="cn">FALSE</span>) <span class="co">#Convertimos el JSON en una lista leíble en R</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>    data2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(json_data1[[<span class="st">"hits"</span>]][[<span class="st">"hits"</span>]][[<span class="st">"_source"</span>]][[<span class="st">"texto"</span>]])) </span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>      all_data_emol <span class="ot">&lt;-</span> <span class="fu">combine_lists</span>(all_data_emol, data2) <span class="co"># Fucionamos todas las listas</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>          procesados <span class="ot">&lt;-</span> procesados <span class="sc">+</span><span class="dv">10</span> <span class="co"># Contador</span></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>          <span class="fu">print</span>(procesados)</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10
[1] 20
[1] 30
[1] 40
[1] 50
[1] 60
[1] 70
[1] 80
[1] 90
[1] 100
[1] 110
[1] 120
[1] 130
[1] 140
[1] 150
[1] 160
[1] 170
[1] 180
[1] 190
[1] 200
[1] 210
[1] 220
[1] 230
[1] 240
[1] 250
[1] 260
[1] 270
[1] 280
[1] 290
[1] 300</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>textos_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">texto =</span> <span class="fu">unlist</span>(all_data_emol)) <span class="co">#Convertimos la lista en data frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="referencias" class="level2">
<h2 class="anchored" data-anchor-id="referencias">Referencias</h2>
<ul>
<li><p>EMOL. (2024). En Wikipedia, la enciclopedia libre.<a href="https://es.wikipedia.org/w/index.php?title=EMOL&amp;oldid=160302426" class="uri">https://es.wikipedia.org/w/index.php?title=EMOL&amp;oldid=160302426</a></p></li>
<li><p>Quiénes somos | BioBiochile. (s. f.). Recuperado 4 de noviembre de 2024, de<a href="https://www.biobiochile.cl/quienes-somos/" class="uri">https://www.biobiochile.cl/quienes-somos/</a></p></li>
<li><p>Clasificación de los principales sitios web de Editoriales de noticias y medios de comunicación en Chile en septiembre 2024. (s. f.). Similarweb. Recuperado 4 de noviembre de 2024, de<a href="https://www.similarweb.com/es/top-websites/chile/news-and-media/" class="uri">https://www.similarweb.com/es/top-websites/chile/news-and-media/</a></p></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>